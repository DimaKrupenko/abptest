{"version":3,"file":"static/js/990.dbfea2e9.chunk.js","mappings":"8NACA,EAAwB,oBAAxB,EAA6D,6BAA7D,EAAwG,0BAAxG,EAAmJ,6BAAnJ,EAA4M,wC,2BCqI5M,EAhIa,WACT,IAAAA,GAA4BC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAjCI,EAAMF,EAAA,GAAEG,EAASH,EAAA,GACxBI,GAAgCL,EAAAA,EAAAA,UAAS,IAAGM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAArCE,EAAQD,EAAA,GAAEE,EAAWF,EAAA,GAC5BG,GAAuBC,EAAAA,EAAAA,MAAhBC,GAAiCT,EAAAA,EAAAA,GAAAO,EAAA,GAArB,GAEbG,GAAWC,EAAAA,EAAAA,MAWXC,EAAcH,EAAaI,IAAI,WAAa,GAClDC,QAAQC,IAAIH,GACZ,IAAMI,EAAS,eAAAC,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,IAAA,IAAAC,EAAA,OAAAH,EAAAA,EAAAA,KAAAI,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAGW,OAHXF,EAAAC,KAAA,EAEVE,EAAAA,EAAAA,aACAA,EAAAA,EAAAA,SAAa1B,GAAQuB,EAAAE,KAAA,EACHC,EAAAA,EAAAA,YAAgB,KAAD,EAA3BL,EAAGE,EAAAI,KACTtB,EAAYgB,GACZO,EAAmB5B,GACnB6B,EAAmBR,GAAIE,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAO,GAAAP,EAAA,SAEvBV,QAAQC,IAAGS,EAAAO,IAAQ,yBAAAP,EAAAQ,OAAA,GAAAX,EAAA,mBAE1B,kBAXc,OAAAJ,EAAAgB,MAAA,KAAAC,UAAA,MAafC,EAAAA,EAAAA,YAAU,WACF9B,EAAS+B,OAAS,GAClBC,GAER,IAEA,IAAMA,EAA0B,WAC5B3B,EAAS,YAAa,CAAE4B,MAAO,CAAEjC,SAAUA,IAC/C,EAsBMkC,EAAyB,WAC3B,IAAMC,EAAiBC,aAAaC,QAAQ,kBAC5C,OAAOF,EAAiBG,KAAKC,MAAMJ,GAAkB,EACzD,EAEMX,EAAqB,SAACgB,GACxB,IAAMC,EAAiBP,IACjBQ,EAAe,CAAI9C,GAAM+C,QAAAC,EAAAA,EAAAA,GAAKH,EAAeI,MAAM,EAAG,KAC5DT,aAAaU,QAAQ,iBAAkBR,KAAKS,UAAUL,GAC1D,EAEMM,EAAyB,WAC3B,IAAMC,EAAeb,aAAaC,QAAQ,gBAC1C,OAAOY,EAAeX,KAAKC,MAAMU,GAAgB,EACrD,EACMxB,EAAqB,SAACR,GACxB,IAAMiC,EAAeF,IACfG,EAAa,CAAIlC,GAAG0B,QAAAC,EAAAA,EAAAA,GAAKM,EAAaL,MAAM,EAAG,KACrDT,aAAaU,QAAQ,eAAgBR,KAAKS,UAAUI,GACxD,EAEMV,EAAiBP,IACjBgB,EAAeF,IACrB,OACII,EAAAA,EAAAA,MAAA,OAAAC,SAAA,EACIC,EAAAA,EAAAA,KAAA,SAAOC,KAAK,OAAOC,SA5EV,SAACC,GACd5D,EAAU4D,EAAIC,OAAOC,OAErBtD,EAAS,WAADsC,OAAYiB,mBAAmBH,EAAIC,OAAOC,QACtD,EAwE+CE,UAAWC,IACjDlE,EAAOmC,OAAS,GACbuB,EAAAA,EAAAA,KAAA,UAAQS,QApCC,WAVbnE,EAAOmC,OAAS,IAGG,CAAC,IAAK,IAAK,IAAK,IAAK,KACzBiC,MAAK,SAACC,GAAI,OAAKrE,EAAOsE,SAASD,EAAK,IAWnDE,IAAAA,OAAAA,QAAwB,4CAHxBxD,IACAN,EAAS,WAADsC,OAAYiB,mBAAmBhE,KAI/C,EA6B0CyD,SAAC,YAE/BC,EAAAA,EAAAA,KAAA,UAAQc,UAAQ,EAAAf,SAAC,YAGrBC,EAAAA,EAAAA,KAAA,MAAIO,UAAWC,EAAmBT,SAAC,oBAClCZ,EAAeV,OAAS,IACrBuB,EAAAA,EAAAA,KAAA,MAAIO,UAAWC,EAAsBT,SAChCZ,EAAe4B,KAAI,SAACC,EAAMC,GAAK,OAE5BnB,EAAAA,EAAAA,MAAA,MAAAC,SAAA,CACKkB,EAAQ,EAAE,MAAID,IADVC,EAEJ,OAKjBjB,EAAAA,EAAAA,KAAA,MAAIO,UAAWC,EAAmBT,SAAC,yCAClCH,EAAamB,KAAI,SAACG,EAAaD,GAAK,OACjCjB,EAAAA,EAAAA,KAAA,OAAiBO,UAAWC,EAAiCT,UACzDC,EAAAA,EAAAA,KAAA,MAAIO,UAAWC,EAAsBT,SAChCmB,EAAYH,KAAI,SAACC,EAAMG,GAAU,OAC9BnB,EAAAA,EAAAA,KAAA,MAAAD,SACoB,OAAfiB,EAAKI,QACCtB,EAAAA,EAAAA,MAAA,OAAAC,SAAA,CACEkB,EAAQ,EAAE,KACXnB,EAAAA,EAAAA,MAAA,KAAAC,SAAA,CAAG,aAAWiB,EAAKK,aACnBvB,EAAAA,EAAAA,MAAA,KAAAC,SAAA,CAAG,UAAQiB,EAAKI,aALnBD,EAQJ,OAXPF,EAcJ,MAKtB,C,qFClIAK,EAAAA,EAAAA,SAAAA,QAAyB,kCAElB,IAAMtD,EAAM,CACjBuD,SAAU,kCACVC,MAAO,GAEPC,SAAQ,SAACD,GACPxD,EAAIwD,MAAQA,CACd,EAEAE,WAAU,WACR1D,EAAIwD,MAAQ,EACd,EAEMnE,UAAS,WAAI,IAADsE,EAAA,YAAApE,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAA,SAAAC,IAAA,IAAAkE,EAAAC,EAAA,OAAArE,EAAAA,EAAAA,KAAAI,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAC4C,OAAtD6D,EAAG,GAAAvC,OAAMsC,EAAKJ,SAAQ,uBAAAlC,OAAsBsC,EAAKH,MAAK,gBAAA3D,EAAAE,KAAA,EACrCuD,EAAAA,EAAAA,IAAUM,GAAK,KAAD,EAAvB,OAARC,EAAQhE,EAAAI,KAAAJ,EAAAiE,OAAA,SACPD,EAASE,KAAKC,SAAO,wBAAAnE,EAAAQ,OAAA,GAAAX,EAAA,IAHZH,EAIlB,EAEM0E,wBAAuB,WAAI,IAADC,EAAA,YAAA3E,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAA,SAAA0E,IAAA,IAAAP,EAAAC,EAAA,OAAArE,EAAAA,EAAAA,KAAAI,MAAA,SAAAwE,GAAA,cAAAA,EAAAtE,KAAAsE,EAAArE,MAAA,OACF,OAAtB6D,EAAG,GAAAvC,OAAM6C,EAAKX,SAAQ,+CAAAa,EAAArE,KAAA,EACLuD,EAAAA,EAAAA,IAAUM,GAAK,KAAD,EAAvB,OAARC,EAAQO,EAAAnE,KAAAmE,EAAAN,OAAA,SACPD,EAASE,KAAKC,SAAO,wBAAAI,EAAA/D,OAAA,GAAA8D,EAAA,IAHE5E,EAIhC,E","sources":["webpack://abptest/./src/pages/Home/home.module.css?7b1b","pages/Home/Home.jsx","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"input\":\"home_input__x8Mr-\",\"recentSearches\":\"home_recentSearches__cbuaA\",\"title__home\":\"home_title__home__eki5J\",\"resultSearches\":\"home_resultSearches__Gu9KT\",\"conteiner__resultSearches\":\"home_conteiner__resultSearches__rv01L\"};","import { API } from '../../services/api';\nimport { useState, useEffect } from \"react\";\nimport { useNavigate, useSearchParams } from \"react-router-dom\";\nimport styles from './home.module.css';\nimport Notiflix from 'notiflix';\n\nconst Home = () => {\n    const [search, setSearch] = useState('');\n    const [vinLists, setVinLists] = useState('');\n    const [searchParams] = useSearchParams();\n\n    const navigate = useNavigate();\n\n    // const location = useLocation()\n\n\n    const onChange = (evt) => {\n        setSearch(evt.target.value);\n        // setSearchParams({ filter: evt.target.value })\n        navigate(`?filter=${encodeURIComponent(evt.target.value)}`);\n    };\n\n    const filterValue = searchParams.get(\"filter\") || \"\";\n    console.log(filterValue)\n    const searchVin = async () => {\n        try {\n            API.resetQuery();\n            API.setQuery(search);\n            const vin = await API.searchVin();\n            setVinLists(vin);\n            saveRecentSearches(search);\n            saveResultSearches(vin)\n        } catch (error) {\n            console.log(error);\n        }\n    };\n\n    useEffect(() => {\n        if (vinLists.length > 0) {\n            navigateToVariablesPage();\n        }\n    },);\n\n    const navigateToVariablesPage = () => {\n        navigate(\"variables\", { state: { vinLists: vinLists } });\n    };\n\n    const isInputValid = () => {\n        if (search.length > 17) {\n            return false;\n        }\n        const forbiddenChars = [\"!\", \"@\", \"#\", \"$\", \"%\"];\n        if (forbiddenChars.some((char) => search.includes(char))) {\n            return false;\n        }\n        return true;\n    };\n\n    const handleSearch = () => {\n        if (isInputValid()) {\n            searchVin();\n            navigate(`?filter=${encodeURIComponent(search)}`);\n        } else {\n            Notiflix.Notify.failure('Invalid number or prohibited characters');\n        }\n    };\n\n    const retrieveRecentSearches = () => {\n        const storedSearches = localStorage.getItem('recentSearches');\n        return storedSearches ? JSON.parse(storedSearches) : [];\n    };\n\n    const saveRecentSearches = (searches) => {\n        const recentSearches = retrieveRecentSearches();\n        const updatedSearches = [search, ...recentSearches.slice(0, 4)];\n        localStorage.setItem('recentSearches', JSON.stringify(updatedSearches));\n    };\n\n    const retrieveResultSearches = () => {\n        const storedResult = localStorage.getItem('recentResult');\n        return storedResult ? JSON.parse(storedResult) : [];\n    };\n    const saveResultSearches = (vin) => {\n        const recentResult = retrieveResultSearches();\n        const updatedResult = [vin, ...recentResult.slice(0, 4)];\n        localStorage.setItem('recentResult', JSON.stringify(updatedResult));\n    };\n\n    const recentSearches = retrieveRecentSearches();\n    const recentResult = retrieveResultSearches()\n    return (\n        <div>\n            <input type=\"text\" onChange={onChange} className={styles.input} />\n            {search.length > 0 ? (\n                <button onClick={handleSearch}>Search</button>\n            ) : (\n                <button disabled>Search</button>\n            )}\n\n            <h2 className={styles.title__home}>Recent searches</h2>\n            {recentSearches.length > 0 && (\n                <ul className={styles.recentSearches}>\n                    {recentSearches.map((item, index) => (\n\n                        <li key={index}>\n                            {index + 1} - {item}\n                        </li>\n\n                    ))}\n                </ul>\n            )}\n            <h2 className={styles.title__home}>Description of recent search results</h2>\n            {recentResult.map((nestedArray, index) => (\n                <div key={index} className={styles.conteiner__resultSearches}>\n                    <ul className={styles.resultSearches}>\n                        {nestedArray.map((item, innerIndex) => (\n                            <li key={innerIndex}>\n                                {item.Value !== null\n                                    && <div>\n                                        {index + 1}:\n                                        <p>Variable: {item.Variable}</p>\n                                        <p>Value: {item.Value}</p>\n                                    </div>\n                                }\n                            </li>\n                        ))}\n                    </ul>\n                </div>\n            ))}\n\n        </div>\n    );\n};\n\nexport default Home;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://vpic.nhtsa.dot.gov/api/';\n\nexport const API = {\n  BASE_URL: 'https://vpic.nhtsa.dot.gov/api/',\n  query: [],\n\n  setQuery(query) {\n    API.query = query;\n  },\n\n  resetQuery() {\n    API.query = '';\n  },\n\n  async searchVin() {\n    const url = `${this.BASE_URL}vehicles/decodevin/${this.query}?format=json`;\n    const response = await axios.get(url);\n    return response.data.Results;\n  },\n\n  async getVehicleVeriablesList() {\n    const url = `${this.BASE_URL}vehicles/getvehiclevariablelist?format=json`;\n    const response = await axios.get(url);\n    return response.data.Results;\n  },\n\n  //   async getDetails() {\n  //     const urlDetails = `${this.BASE_URL}movie/${this.movieId}?api_key=${this.API_KEY}`;\n  //     const response = await axios.get(urlDetails);\n  //     return response.data;\n  //   },\n\n  //   async getCast() {\n  //     const urlCast = `${this.BASE_URL}movie/${this.movieId}/credits?api_key=${this.API_KEY}`;\n  //     const response = await axios.get(urlCast);\n  //     return response.data.cast;\n  //   },\n\n  //   async getRevies() {\n  //     const urlReviews = `${this.BASE_URL}movie/${this.movieId}/reviews?api_key=${this.API_KEY}`;\n  //     const response = await axios.get(urlReviews);\n  //     return response.data.results;\n  //   },\n};\n"],"names":["_useState","useState","_useState2","_slicedToArray","search","setSearch","_useState3","_useState4","vinLists","setVinLists","_useSearchParams","useSearchParams","searchParams","navigate","useNavigate","filterValue","get","console","log","searchVin","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","vin","wrap","_context","prev","next","API","sent","saveRecentSearches","saveResultSearches","t0","stop","apply","arguments","useEffect","length","navigateToVariablesPage","state","retrieveRecentSearches","storedSearches","localStorage","getItem","JSON","parse","searches","recentSearches","updatedSearches","concat","_toConsumableArray","slice","setItem","stringify","retrieveResultSearches","storedResult","recentResult","updatedResult","_jsxs","children","_jsx","type","onChange","evt","target","value","encodeURIComponent","className","styles","onClick","some","char","includes","Notiflix","disabled","map","item","index","nestedArray","innerIndex","Value","Variable","axios","BASE_URL","query","setQuery","resetQuery","_this","url","response","abrupt","data","Results","getVehicleVeriablesList","_this2","_callee2","_context2"],"sourceRoot":""}