{"version":3,"file":"static/js/163.7cb2e845.chunk.js","mappings":"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","sources":["webpack://abptest/./src/pages/Home/home.module.css?7b1b","pages/Home/localStoradge.jsx","pages/Home/Home.jsx","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"input\":\"home_input__x8Mr-\",\"recentSearches\":\"home_recentSearches__cbuaA\",\"title__home\":\"home_title__home__eki5J\",\"resultSearches\":\"home_resultSearches__Gu9KT\",\"conteiner__resultSearches\":\"home_conteiner__resultSearches__rv01L\"};","\nexport const retrieveRecentSearches = () => {\n    const storedSearches = localStorage.getItem('recentSearches');\n    return storedSearches ? JSON.parse(storedSearches) : [];\n};\n\nexport const saveRecentSearches = (search) => {\n    const recentSearches = retrieveRecentSearches();\n    const updatedSearches = [search, ...recentSearches.slice(0, 4)];\n    localStorage.setItem('recentSearches', JSON.stringify(updatedSearches));\n};\n\nexport const retrieveResultSearches = () => {\n    const storedResult = localStorage.getItem('recentResult');\n    return storedResult ? JSON.parse(storedResult) : [];\n};\nexport const saveResultSearches = (vin) => {\n    const recentResult = retrieveResultSearches();\n    const updatedResult = [vin, ...recentResult.slice(0, 4)];\n    localStorage.setItem('recentResult', JSON.stringify(updatedResult));\n};","import { API } from '../../services/api';\nimport { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport styles from './home.module.css';\nimport Notiflix from 'notiflix';\nimport { retrieveRecentSearches, saveRecentSearches, retrieveResultSearches, saveResultSearches } from './localStoradge'\n\nconst Home = () => {\n    const [search, setSearch] = useState('');\n    const [vinLists, setVinLists] = useState('');\n\n    const navigate = useNavigate();\n\n    const onChange = (evt) => {\n        setSearch(evt.target.value);\n\n    };\n\n    const searchVin = async () => {\n        try {\n            API.resetQuery();\n            API.setQuery(search);\n            const vin = await API.searchVin();\n            setVinLists(vin);\n            saveRecentSearches(search);\n            saveResultSearches(vin)\n        } catch (error) {\n            console.log(error);\n        }\n    };\n\n    useEffect(() => {\n        if (vinLists.length > 0) {\n            navigateToVariablesPage();\n        }\n    },);\n\n    const navigateToVariablesPage = () => {\n        navigate(\"variables\", { state: { vinLists } });\n    };\n\n    const isInputValid = () => {\n        if (search.length > 17) {\n            return false;\n        }\n        const forbiddenChars = [\"!\", \"@\", \"#\", \"$\", \"%\"];\n        if (forbiddenChars.some((char) => search.includes(char))) {\n            return false;\n        }\n        return true;\n    };\n\n    const handleSearch = () => {\n        if (isInputValid()) {\n            searchVin();\n        } else {\n            Notiflix.Notify.failure('Invalid number or prohibited characters');\n        }\n    };\n\n    const recentSearches = retrieveRecentSearches();\n    const recentResult = retrieveResultSearches()\n\n    return (\n        <div>\n            <input type=\"text\" onChange={onChange} className={styles.input} placeholder='Enter VIN' autoсomplete=\"on\" />\n            {search.length > 0 ? (\n                <button onClick={handleSearch}>Search</button>\n            ) : (\n                <button disabled>Search</button>\n            )}\n\n            <h2 className={styles.title__home}>Recent searches</h2>\n            {recentSearches.length > 0 && (\n                <ul className={styles.recentSearches}>\n                    {recentSearches.map((item, index) => (\n                        <li key={index}>\n                            {index + 1} - {item}\n                        </li>\n                    ))}\n                </ul>\n            )}\n            <h2 className={styles.title__home}>Description of recent search results</h2>\n            {recentResult.map((nestedArray, index) => (\n                <div key={index} className={styles.conteiner__resultSearches}>\n                    <ul className={styles.resultSearches}>\n                        {nestedArray.map(({ Variable, Value }, innerIndex) => (\n                            <li key={innerIndex}>\n                                {Value !== null\n                                    && <div>\n                                        {index + 1}:\n                                        <p>Variable: {Variable}</p>\n                                        <p>Value: {Value}</p>\n                                    </div>\n                                }\n                            </li>\n                        ))}\n                    </ul>\n                </div>\n            ))}\n\n        </div>\n    );\n};\n\nexport default Home;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://vpic.nhtsa.dot.gov/api/';\n\nexport const API = {\n  BASE_URL: 'https://vpic.nhtsa.dot.gov/api/',\n  query: [],\n\n  setQuery(query) {\n    API.query = query;\n  },\n\n  resetQuery() {\n    API.query = '';\n  },\n\n  async searchVin() {\n    const url = `${this.BASE_URL}vehicles/decodevin/${this.query}?format=json`;\n    const response = await axios.get(url);\n    return response.data.Results;\n  },\n\n  async getVehicleVeriablesList() {\n    const url = `${this.BASE_URL}vehicles/getvehiclevariablelist?format=json`;\n    const response = await axios.get(url);\n    return response.data.Results;\n  },\n};\n"],"names":["retrieveRecentSearches","storedSearches","localStorage","getItem","JSON","parse","saveRecentSearches","search","recentSearches","updatedSearches","concat","_toConsumableArray","slice","setItem","stringify","retrieveResultSearches","storedResult","saveResultSearches","vin","recentResult","updatedResult","_useState","useState","_useState2","_slicedToArray","setSearch","_useState3","_useState4","vinLists","setVinLists","navigate","useNavigate","searchVin","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","API","sent","t0","console","log","stop","apply","arguments","useEffect","length","navigateToVariablesPage","state","_jsxs","children","_jsx","type","onChange","evt","target","value","className","styles","placeholder","autoсomplete","onClick","some","char","includes","Notiflix","disabled","map","item","index","nestedArray","_ref2","innerIndex","Variable","Value","axios","BASE_URL","query","setQuery","resetQuery","_this","url","response","abrupt","data","Results","getVehicleVeriablesList","_this2","_callee2","_context2"],"sourceRoot":""}